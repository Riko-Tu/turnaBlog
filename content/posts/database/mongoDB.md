---
weight: 5
title: "mongoDB - 基础介绍"
date: 2023-08-16T15:19:34+08:00
draft: false
tags: [mongoDB]
categories: [database]
featuredImagePreview: ""
toc:
    auto: false
---



# 《一》mongoDB---初始与安装

## 1、什么是mongdb

### 1.1 介绍

MongoDB是一个文档数据库(以]SON 为数模型)，由C++语言编写，旨在为WEB应用提供可扩展的高性能数据存储解决方案.

> 文档来白丁“SON Document”，并非我们一般理解的 PDF，WORD 文档

MongoDB是一个个于关系数据库和非关系数招库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。它支持的数据结构非常松散，教据格式是**BSON**，一种类似SON的二进制形式的存储格式，简称BinaryJSON，和SON一样支持内的文对象和数组对象，因此可以存储比较复杂的数据类型，MongoDB最大的特点是它支持的查询语言非常强大，其语法有点类似于面向对象的查询语言几乎可以实现举似关系数据库单表查询的绝大部分功能，而目还支持对数据建立**索引**。原则上 **oracle 和 MVSOL 能做的事情MongoDB 都能做 (包括 ACID 事务)**



### 1.2 版本

2018年08月06日，MongoDB 4.0.2发布，支持多文档事务。

2019年08月13日，MongoDB 4.2.0 发布 [3] ，引入分布式事务。



### 1.3 设计特征

MongoDB 的设计目标是高性能、可扩展、易部署、易使用，存储数据非常方便。其主要功能特性如下。

（1）面向集合存储，容易存储对象类型的数据。在MongoDB 中数据被分组存储在集合中，集合类似RDBMS 中的表，一个集合中可以存储无限多的文档。

（2）模式自由，采用无模式结构存储。在MongoDB 中集合中存储的数据是无模式的文档，采用无模式存储数据是集合区别于RDBMS 中的表的一个重要特征。

（3）支持完全索引，可以在任意属性上建立索引，包含内部对象。MongoDB的索引和RDBMS 的索引基本一样，可以在指定属性、内部对象上创建索引以提高查询的速度。除此之外，MongoDB 还提供创建基于地理空间的索引的能力。

（4）支持查询。MongoDB 支持丰富的查询操作，MongoDB 几乎支持SQL中的大部分查询。

（5）强大的聚合工具。MongoDB 除了提供丰富的查询功能外，还提供强大的聚合工具，如count、group 等，支持使用MapReduce 完成复杂的聚合任务。

（6）支持复制和数据恢复。MongoDB 支持主从复制机制，可以实现数据备份、故障恢复、读扩展等功能。而基于副本集的复制机制提供了自动故障恢复的功能，确保了集群数据不会丢失。

（7）使用高效的二进制数据存储，包括大型对象（如视频）。使用二进制格式存储，可以保存任何类型的数据对象。

（8）自动处理分片，以支持云计算层次的扩展。MongoDB 支持集群自动切分数据，对数据进行分片可以使集群存储更多的数据，实现更大的负载，也能保证存储的负载均衡。

（9）支持Perl、PHP、Java、C#、JavaScript、Ruby、C 和C++语言的驱动程序，MongoDB 提供了当前所有主流开发语言的数据库驱动包，开发人员使用任何一种主流开发语言都可以轻松编程，实现访问MongoDB 数据库。

（10）文件存储格式为BSON（JSON 的一种扩展）。BSON 是对二进制格式的JSON 的简称，BSON 支持文档和数组的嵌套。

（11）可以通过网络访问。可以通过网络远程访问MongoDB 数据库。



### 1.4 基本概念

| sql概念              | mongoDB概念       |
| -------------------- | ----------------- |
| 数据库(database)     | 数据库(database)  |
| 表(table)            | 集合(collection)  |
| 行(row)              | 文档(document)    |
| 列(column)           | 字段(feld)        |
| 索引(index)          | 索引(index)       |
| 主键(primary key)    | _id (字段)        |
| 视图(view)           | 视图 (view)       |
| 表连接 (table joins) | 聚合操作(Slookup) |





### 1.5 应用场景

从目前阿里云 MongoDB 云数据库上的用户看，MongoDB 的应用已经渗透到各个领域:

- 游戏场景，使用 MongoDB 存储游戏用户信息，用户的装备、分等直接以内嵌文档的形式存储，方便查询、
- 更新;物流场景，使用 MongoDB 存储订单信息，订单状态在运送过程中会不断更新，以MongoDB 内欧数组的形式来存储，一次查询就能将订单所有的变更读取出来;
- 社交场景，使用 MongoDB 存储存储用户信息，以及用户发表的朋友圈信息，通过地理位置索引实现附近的人、地点等功能.
- 物联网场景，使用 MongoDB 存储所有接入的智能设备信息，以及设备汇报的日志信息，并对这些信息进行多维度的分析:
- 视频直播，使用 MongoDB 存储用户信息、礼物信息等,
- ·大数据应用，使用云数据库MongoDB作为大数据的云存储系统，随时进行数据提取分析，掌握行业动态。



### 1.6 是否选择MongoDB?

没有某个业务场景必须要使用MongODB才能解决，但使用MongODB通常能让你以更低的成本解决问题，如果你不清楚当前业务是否适合使用MongoDB.可以通过做几道选择题来辅助决策。

- 应用不需要复杂/长事务及 join 支持
- 新应用，需求会变，数据模型无法确定，想快速迭代开发应用需要2000-3000以上的读写QPS 更高也可以)
- 应用需要TB甚至 PB 级别数据存储
- 应用发展迅速，需要能快速水平扩展
- 应用要求存储的数据不丢失
- 应用需要99.999%高可用
- 应用需要大量的地理位置查询、文本查询



## 2、 宝塔搭建mongoDB

### 指定用户连接指定数据库

~~~
mongo --port 27017 -u "root" -p "123456" --authenticationDatabase=admin
~~~



## 3、docker 搭建mongoDB





## 